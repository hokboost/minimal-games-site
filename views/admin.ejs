<!DOCTYPE html>
<html lang="<%= lang === 'zh' ? 'zh-CN' : 'en' %>">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body data-csrf-token="<%= csrfToken %>">
    <%- include('partials/language-switcher') %>

    <div class="container">
        <div class="admin-header">
            <h1>üëë <%= lang === 'zh' ? 'ÁÆ°ÁêÜÂêéÂè∞' : 'Admin Panel' %></h1>
            <div class="nav-links">
                <span><%= lang === 'zh' ? 'Ê¨¢ËøéÔºå' : 'Welcome, ' %><%= user.username %></span>
                <a href="/">üè† <%= lang === 'zh' ? 'È¶ñÈ°µ' : 'Home' %></a>
                <a href="/logout">üö™ <%= lang === 'zh' ? 'ÈÄÄÂá∫ÁôªÂΩï' : 'Logout' %></a>
            </div>
        </div>

        <div class="admin-content">
            
            <div class="cookie-management" style="
                background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), rgba(255, 193, 7, 0.05));
                border: 2px solid #ff9800; border-radius: 15px; padding: 1.5rem; margin-bottom: 2rem;
            ">
                <h2 style="color: #ff9800; margin-bottom: 1rem;">üç™ <%= lang === 'zh' ? 'BÁ´ôCookieÁÆ°ÁêÜ' : 'Bilibili Cookie Management' %></h2>
                <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
                    <div id="cookieStatus" style="
                        padding: 0.8rem 1.2rem; border-radius: 8px; font-weight: bold;
                        background: rgba(158, 158, 158, 0.2); color: #9e9e9e;
                    "><%= lang === 'zh' ? 'Áä∂ÊÄÅÊ£ÄÊü•‰∏≠...' : 'Checking status...' %></div>
                    
                    <button id="check-cookie-status" style="
                        padding: 0.8rem 1.5rem; background: linear-gradient(135deg, #2196f3, #1976d2);
                        color: white; border: none; border-radius: 8px; font-weight: bold;
                        cursor: pointer; transition: all 0.3s ease;
                    ">üîç <%= lang === 'zh' ? 'Ê£ÄÊü•Áä∂ÊÄÅ' : 'Check Status' %></button>
                    
                    <button id="refresh-cookies" style="
                        padding: 0.8rem 1.5rem; background: linear-gradient(135deg, #ff9800, #f57c00);
                        color: white; border: none; border-radius: 8px; font-weight: bold;
                        cursor: pointer; transition: all 0.3s ease;
                    ">üîÑ <%= lang === 'zh' ? 'Âà∑Êñ∞Cookie' : 'Refresh Cookie' %></button>
                </div>
                <div id="cookieDetails" style="margin-top: 1rem; font-size: 0.9rem; color: #ccc;"></div>
            </div>

            
            <div class="room-management" style="
                background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(129, 199, 132, 0.05));
                border: 2px solid #4caf50; border-radius: 15px; padding: 1.5rem; margin-bottom: 2rem;
            ">
                <h2 style="color: #4caf50; margin-bottom: 1rem;">üì∫ <%= lang === 'zh' ? 'Áõ¥Êí≠Èó¥ÁªëÂÆöÁÆ°ÁêÜ' : 'Live Room Binding Management' %></h2>
                
                
                <div style="
                    background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 1rem; margin-bottom: 1rem;
                ">
                    <h3 style="color: #4caf50; margin-bottom: 0.8rem; font-size: 1.1rem;">‚ûï <%= lang === 'zh' ? 'ÁªëÂÆöÊñ∞ÊàøÈó¥' : 'Bind New Room' %></h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr auto; gap: 1rem; align-items: end;">
                        <div>
                            <label style="display: block; margin-bottom: 0.3rem; color: #4caf50; font-size: 0.9rem;"><%= lang === 'zh' ? 'Áî®Êà∑Âêç:' : 'Username:' %></label>
                            <input type="text" id="bindUsername" placeholder="<%= lang === 'zh' ? 'ËØ∑ËæìÂÖ•Áî®Êà∑Âêç (‰æã: Â∞ßÈ°∫ÂÆá)' : 'Enter username (e.g.: Username)' %>"
                                style="
                                    width: 100%; padding: 0.8rem; border: 1px solid #555;
                                    border-radius: 8px; background: rgba(255,255,255,0.1);
                                    color: white; font-size: 1rem;
                                "
                            />
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.3rem; color: #4caf50; font-size: 0.9rem;"><%= lang === 'zh' ? 'Áõ¥Êí≠Èó¥Âè∑:' : 'Room ID:' %></label>
                            <input type="text" id="bindRoomId" placeholder="<%= lang === 'zh' ? 'BÁ´ôÁõ¥Êí≠Èó¥Âè∑ (‰æã: 3929738)' : 'Bilibili room ID (e.g.: 3929738)' %>"
                                style="
                                    width: 100%; padding: 0.8rem; border: 1px solid #555;
                                    border-radius: 8px; background: rgba(255,255,255,0.1);
                                    color: white; font-size: 1rem;
                                "
                            />
                        </div>
                        <button id="bind-room" style="
                            padding: 0.8rem 1.5rem; background: linear-gradient(135deg, #4caf50, #45a049);
                            color: white; border: none; border-radius: 8px; font-weight: bold;
                            cursor: pointer; transition: all 0.3s ease; white-space: nowrap;
                        ">üîó <%= lang === 'zh' ? 'ÁªëÂÆöÊàøÈó¥' : 'Bind Room' %></button>
                    </div>
                </div>

                
                <div style="
                    background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 1rem; margin-bottom: 1rem;
                ">
                    <h3 style="color: #f44336; margin-bottom: 0.8rem; font-size: 1.1rem;">‚ûñ <%= lang === 'zh' ? 'Ëß£Èô§ÁªëÂÆö' : 'Unbind' %></h3>
                    <div style="display: grid; grid-template-columns: 1fr auto; gap: 1rem; align-items: end;">
                        <div>
                            <label style="display: block; margin-bottom: 0.3rem; color: #f44336; font-size: 0.9rem;"><%= lang === 'zh' ? 'Áî®Êà∑Âêç:' : 'Username:' %></label>
                            <input type="text" id="unbindUsername" placeholder="<%= lang === 'zh' ? 'ËØ∑ËæìÂÖ•Ë¶ÅËß£ÁªëÁöÑÁî®Êà∑Âêç' : 'Enter username to unbind' %>"
                                style="
                                    width: 100%; padding: 0.8rem; border: 1px solid #555;
                                    border-radius: 8px; background: rgba(255,255,255,0.1);
                                    color: white; font-size: 1rem;
                                "
                            />
                        </div>
                        <button id="unbind-room" style="
                            padding: 0.8rem 1.5rem; background: linear-gradient(135deg, #f44336, #d32f2f);
                            color: white; border: none; border-radius: 8px; font-weight: bold;
                            cursor: pointer; transition: all 0.3s ease; white-space: nowrap;
                        ">üîì <%= lang === 'zh' ? 'Ëß£Èô§ÁªëÂÆö' : 'Unbind' %></button>
                    </div>
                </div>

                
                <div>
                    <h3 style="color: #4caf50; margin-bottom: 0.8rem; font-size: 1.1rem;">üìã <%= lang === 'zh' ? 'ÂΩìÂâçÁªëÂÆöÂàóË°®' : 'Current Bindings' %></h3>
                    <div id="currentBindings" style="
                        background: rgba(0, 0, 0, 0.3); border-radius: 8px; padding: 1rem;
                        min-height: 100px; color: #ccc;
                    ">
                        <div style="text-align: center; color: #999;">
                            <%= lang === 'zh' ? 'Ê≠£Âú®Âä†ËΩΩÁªëÂÆö‰ø°ÊÅØ...' : 'Loading bindings...' %>
                        </div>
                    </div>
                    <button id="load-room-bindings" style="
                        margin-top: 0.8rem; padding: 0.6rem 1.2rem; 
                        background: linear-gradient(135deg, #2196f3, #1976d2);
                        color: white; border: none; border-radius: 6px; font-weight: bold;
                        cursor: pointer; transition: all 0.3s ease;
                    ">üîÑ <%= lang === 'zh' ? 'Âà∑Êñ∞ÂàóË°®' : 'Refresh List' %></button>
                </div>
            </div>

            <table class="users-table">
                <thead>
                    <tr>
                        <th><%= lang === 'zh' ? 'Áî®Êà∑Âêç' : 'Username' %></th>
                        <th><%= lang === 'zh' ? 'ÁîµÂ∏Å‰ΩôÈ¢ù' : 'Coin Balance' %></th>
                        <th><%= lang === 'zh' ? 'Êìç‰Ωú' : 'Actions' %></th>
                        <th><%= lang === 'zh' ? 'ÂØÜÁ†ÅÁÆ°ÁêÜ' : 'Password' %></th>
                        <th><%= lang === 'zh' ? 'Ë¥¶Âè∑ÁÆ°ÁêÜ' : 'Account' %></th>
                        <th><%= lang === 'zh' ? 'ÁôªÂΩïÁä∂ÊÄÅ' : 'Status' %></th>
                    </tr>
                </thead>
                <tbody>
                    <% users.forEach(user => { %>
                        <tr>
                            <td>
                                <a class="user-link" href="/admin/users/<%= encodeURIComponent(user.username) %>/records">
                                    <%= user.username %>
                                </a>
                            </td>
                            <td class="balance">
                                <span class="balance-display">‚ö°<%= user.balance || 0 %> ÁîµÂ∏Å</span>
                                <button class="edit-balance-btn" data-action="edit-balance" data-username="<%= user.username %>" data-balance="<%= user.balance || 0 %>">
                                    ‚úèÔ∏è <%= lang === 'zh' ? '‰øÆÊîπ' : 'Edit' %>
                                </button>
                            </td>
                            <td>
                                <button class="btn-add" data-action="add-coin" data-username="<%= user.username %>">‚ö° <%= lang === 'zh' ? 'Âä†ÁîµÂ∏Å' : 'Add Coins' %></button>
                                <% if (user.authorized) { %>
                                    <button class="btn-unauthorize" data-action="unauthorize" data-username="<%= user.username %>">‚ùå <%= lang === 'zh' ? 'ÂèñÊ∂àÊéàÊùÉ' : 'Revoke' %></button>
                                <% } else { %>
                                    <button class="btn-authorize" data-action="authorize" data-username="<%= user.username %>">‚úÖ <%= lang === 'zh' ? 'ÊéàÊùÉ' : 'Authorize' %></button>
                                <% } %>
                            </td>
                            <td>
                                <% if (user.username === userLoggedIn) { %>
                                    <button class="btn-self" id="change-self-password">üîë <%= lang === 'zh' ? '‰øÆÊîπÂØÜÁ†Å' : 'Change Password' %></button>
                                <% } else { %>
                                    <button class="btn-reset" data-action="reset-password" data-username="<%= user.username %>">üîë <%= lang === 'zh' ? 'ÈáçÁΩÆÂØÜÁ†Å' : 'Reset Password' %></button>
                                <% } %>
                            </td>
                            <td>
                                <% if (user.username === userLoggedIn) { %>
                                    <span class="self-indicator">üë§ <%= lang === 'zh' ? 'Ëá™Â∑±' : 'You' %></span>
                                <% } else { %>
                                    <button class="btn-delete" data-action="delete-account" data-username="<%= user.username %>">üóëÔ∏è <%= lang === 'zh' ? 'Ê≥®ÈîÄË¥¶Âè∑' : 'Delete Account' %></button>
                                <% } %>
                            </td>
                            <td>
                                <% if (user.is_admin) { %>
                                    <span class="status-admin">üëë <%= lang === 'zh' ? 'ÁÆ°ÁêÜÂëò' : 'Admin' %></span>
                                <% } else if (user.is_locked) { %>
                                    <div class="status-locked">
                                        üîí <%= lang === 'zh' ? 'Â∑≤ÈîÅÂÆö' : 'Locked' %><br>
                                        <small><%= lang === 'zh' ? 'Ââ©‰Ωô' : 'Remaining' %> <%= user.lock_minutes %> <%= lang === 'zh' ? 'ÂàÜÈíü' : 'min' %></small><br>
                                        <small><%= lang === 'zh' ? 'Â§±Ë¥•Ê¨°Êï∞' : 'Failures' %>: <%= user.login_failures %></small><br>
                                        <button class="btn-unlock" data-action="unlock" data-username="<%= user.username %>"><%= lang === 'zh' ? 'Ëß£ÈîÅ' : 'Unlock' %></button>
                                    </div>
                                <% } else if (user.login_failures > 0) { %>
                                    <div class="status-warning">
                                        ‚ö†Ô∏è <%= lang === 'zh' ? 'Ë≠¶Âëä' : 'Warning' %><br>
                                        <small><%= lang === 'zh' ? 'Â§±Ë¥•Ê¨°Êï∞' : 'Failures' %>: <%= user.login_failures %></small><br>
                                        <button class="btn-clear" data-action="clear-failures" data-username="<%= user.username %>"><%= lang === 'zh' ? 'Ê∏ÖÈô§' : 'Clear' %></button>
                                    </div>
                                <% } else { %>
                                    <span class="status-normal">‚úÖ <%= lang === 'zh' ? 'Ê≠£Â∏∏' : 'Normal' %></span>
                                <% } %>
                            </td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>

            <div class="recent-records">
                <h2>üßæ <%= lang === 'zh' ? 'ÊúÄËøëÊ∏∏ÊàèËÆ∞ÂΩï' : 'Recent Game Records' %></h2>
                <div class="records-table-wrap">
                    <table class="records-table">
                        <thead>
                            <tr>
                                <th><%= lang === 'zh' ? 'Áî®Êà∑Âêç' : 'Username' %></th>
                                <th>Quiz</th>
                                <th>Slot</th>
                                <th>Scratch</th>
                                <th>Wish</th>
                                <th>Stone</th>
                                <th>Flip</th>
                                <th>Duel</th>
                                <th>Spin</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% users.forEach(user => { %>
                                <tr>
                                    <td><%= user.username %></td>
                                    <td><%= latestRecords?.[user.username]?.quiz || '-' %></td>
                                    <td><%= latestRecords?.[user.username]?.slot || '-' %></td>
                                    <td><%= latestRecords?.[user.username]?.scratch || '-' %></td>
                                    <td><%= latestRecords?.[user.username]?.wish || '-' %></td>
                                    <td><%= latestRecords?.[user.username]?.stone || '-' %></td>
                                    <td><%= latestRecords?.[user.username]?.flip || '-' %></td>
                                    <td><%= latestRecords?.[user.username]?.duel || '-' %></td>
                                    <td><%= latestRecords?.[user.username]?.spin || '-' %></td>
                                </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="dictation-records">
                <h2>‚úçÔ∏è <%= lang === 'zh' ? 'Âê¨ÂÜôÊèê‰∫§ËÆ∞ÂΩï' : 'Dictation Submissions' %></h2>
                <div class="records-table-wrap">
                    <table class="records-table">
                        <thead>
                            <tr>
                                <th><%= lang === 'zh' ? 'Êèê‰∫§Êó∂Èó¥' : 'Submitted At' %></th>
                                <th><%= lang === 'zh' ? 'Áî®Êà∑Âêç' : 'Username' %></th>
                                <th><%= lang === 'zh' ? 'ÂÖ≥Âç°' : 'Level' %></th>
                                <th><%= lang === 'zh' ? 'È¢òÂè∑' : 'Word ID' %></th>
                                <th><%= lang === 'zh' ? 'ËØçËØ≠' : 'Word' %></th>
                                <th><%= lang === 'zh' ? 'ËØªÈü≥' : 'Pronunciation' %></th>
                                <th><%= lang === 'zh' ? 'Ëß£Èáä' : 'Definition' %></th>
                                <th><%= lang === 'zh' ? 'Áî®Êà∑ËæìÂÖ•' : 'User Input' %></th>
                                <th><%= lang === 'zh' ? 'Áä∂ÊÄÅ' : 'Status' %></th>
                                <th><%= lang === 'zh' ? 'ÂÆ°Ê†∏' : 'Review' %></th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if (dictationSubmissions && dictationSubmissions.length) { %>
                                <% dictationSubmissions.forEach(row => { %>
                                    <tr>
                                        <td><%= row.submitted_at %></td>
                                        <td><%= row.username || '-' %></td>
                                        <td><%= row.level || '-' %></td>
                                        <td><%= row.word_id || '-' %></td>
                                        <td><%= row.word || '-' %></td>
                                        <td><%= row.pronunciation || '-' %></td>
                                        <td><%= row.definition || '-' %></td>
                                        <td><%= row.user_input || '-' %></td>
                                        <td><%= row.status || '-' %></td>
                                        <td>
                                            <div class="dictation-review-actions">
                                                <button class="btn-approve" data-action="dictation-mark" data-id="<%= row.id %>" data-status="correct">
                                                    <%= lang === 'zh' ? 'Ê≠£Á°Æ' : 'Correct' %>
                                                </button>
                                                <button class="btn-reject" data-action="dictation-mark" data-id="<%= row.id %>" data-status="wrong">
                                                    <%= lang === 'zh' ? 'ÈîôËØØ' : 'Wrong' %>
                                                </button>
                                                <button class="btn-warn" data-action="dictation-mark" data-id="<%= row.id %>" data-status="rewrite">
                                                    <%= lang === 'zh' ? 'ËØ∑ÈáçÂÜô' : 'Rewrite' %>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                <% }) %>
                            <% } else { %>
                                <tr>
                                    <td colspan="10" style="text-align: center; color: #aaa;">
                                        <%= lang === 'zh' ? 'ÊöÇÊó†Âê¨ÂÜôÊèê‰∫§ËÆ∞ÂΩï' : 'No dictation submissions yet' %>
                                    </td>
                                </tr>
                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <style>
    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem;
        background: rgba(0, 0, 0, 0.8);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        color: #fff;
    }

    .admin-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #00c853;
    }

    .admin-header h1 {
        margin: 0;
        color: #00c853;
    }

    .nav-links {
        display: flex;
        gap: 1rem;
        align-items: center;
    }

    .nav-links span {
        color: #ccc;
        font-weight: bold;
    }

    .nav-links a {
        color: #fff;
        text-decoration: none;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
    }

    .nav-links a:hover {
        background: rgba(0, 200, 83, 0.2);
        transform: translateY(-2px);
    }

    .admin-content {
        overflow-x: auto;
    }

    .recent-records {
        margin-top: 2rem;
    }

    .recent-records h2 {
        margin-bottom: 0.8rem;
        color: #ffeb3b;
    }

    .dictation-records {
        margin-top: 2rem;
    }

    .dictation-records h2 {
        margin-bottom: 0.8rem;
        color: #4dd0e1;
    }

    .records-table-wrap {
        overflow-x: auto;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        padding: 0.5rem;
    }

    .records-table {
        width: 100%;
        border-collapse: collapse;
        min-width: 1100px;
        background: rgba(255, 255, 255, 0.03);
    }

    .records-table th {
        background: linear-gradient(135deg, #ffb300, #f57c00);
        color: #fff;
        padding: 0.7rem 0.5rem;
        text-align: left;
        font-weight: bold;
        font-size: 0.85rem;
    }

    .dictation-review-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 0.4rem;
    }

    .records-table td {
        padding: 0.6rem 0.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        font-size: 0.85rem;
        color: #ddd;
        white-space: nowrap;
    }

    .records-table tr:hover {
        background: rgba(255, 255, 255, 0.04);
    }

    .users-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        overflow: hidden;
    }

    .users-table th {
        background: linear-gradient(135deg, #00c853, #00bfa5);
        color: #fff;
        padding: 0.7rem 0.4rem;
        text-align: left;
        font-weight: bold;
        font-size: 0.85rem;
    }

    .users-table td {
        padding: 0.7rem 0.4rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        vertical-align: top;
        font-size: 0.85rem;
    }


    .users-table tr:hover {
        background: rgba(255, 255, 255, 0.05);
    }

    .user-link {
        color: #ffeb3b;
        text-decoration: none;
        font-weight: bold;
    }

    .user-link:hover {
        text-decoration: underline;
    }

    .spins {
        color: #e91e63;
        font-weight: bold;
        font-size: 1.1rem;
    }

    /* ÊåâÈíÆÊ†∑Âºè */
    .users-table button {
        padding: 0.3rem 0.6rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.8rem;
        margin: 0.1rem;
        transition: all 0.3s ease;
        font-weight: bold;
    }

    .btn-add {
        background: #4caf50;
        color: white;
    }

    .btn-add:hover {
        background: #45a049;
        transform: translateY(-1px);
    }

    .btn-authorize {
        background: #2196f3;
        color: white;
    }

    .btn-authorize:hover {
        background: #1976d2;
        transform: translateY(-1px);
    }

    .btn-unauthorize {
        background: #ff9800;
        color: white;
    }

    .btn-unauthorize:hover {
        background: #f57c00;
        transform: translateY(-1px);
    }

    .btn-reset {
        background: #ff6b6b;
        color: white;
    }

    .btn-reset:hover {
        background: #ff5252;
        transform: translateY(-1px);
    }

    .btn-delete {
        background: #dc3545;
        color: white;
    }

    .btn-delete:hover {
        background: #c82333;
        transform: translateY(-1px);
    }

    .balance {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .balance-display {
        font-weight: bold;
        color: #4caf50;
        min-width: 60px;
    }

    .edit-balance-btn {
        background: #ff9800;
        color: white;
        border: none;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .edit-balance-btn:hover {
        background: #f57c00;
        transform: translateY(-1px);
    }

    .btn-unlock {
        background: #ffc107;
        color: #000;
        font-size: 0.7rem;
        padding: 0.2rem 0.4rem;
        margin-top: 0.2rem;
    }

    .btn-unlock:hover {
        background: #ffb300;
    }

    .btn-clear {
        background: #17a2b8;
        color: white;
        font-size: 0.7rem;
        padding: 0.2rem 0.4rem;
        margin-top: 0.2rem;
    }

    .btn-clear:hover {
        background: #138496;
    }

    .btn-disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: #666;
        color: #ccc;
    }

    .btn-self {
        background: #17a2b8;
        color: white;
    }

    .btn-self:hover {
        background: #138496;
        transform: translateY(-1px);
    }

    .self-indicator {
        color: #17a2b8;
        font-weight: bold;
        font-style: italic;
    }

    /* Áä∂ÊÄÅÊ†∑Âºè */
    .status-admin {
        color: #28a745;
        font-weight: bold;
    }

    .status-locked {
        color: #dc3545;
        font-weight: bold;
        font-size: 0.8rem;
        line-height: 1.2;
    }

    .status-warning {
        color: #ffc107;
        font-weight: bold;
        font-size: 0.8rem;
        line-height: 1.2;
    }

    .status-normal {
        color: #28a745;
    }

    @media (max-width: 1200px) {
        .users-table {
            font-size: 0.8rem;
        }
        
        .users-table th,
        .users-table td {
            padding: 0.5rem 0.3rem;
        }
        
        .users-table button {
            padding: 0.2rem 0.4rem;
            font-size: 0.7rem;
        }
    }

    @media (max-width: 768px) {
        .container {
            padding: 1rem;
        }
        
        .admin-header {
            flex-direction: column;
            gap: 1rem;
        }
        
        .users-table {
            font-size: 0.7rem;
        }
    }
    </style>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/security-alerts.js"></script>
    <script src="/js/admin.js"></script>
</body>
</html>
